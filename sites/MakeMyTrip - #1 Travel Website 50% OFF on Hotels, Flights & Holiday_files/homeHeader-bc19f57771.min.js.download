function rhex(e){for(str="",j=0;j<=3;j++)str+=hex_chr.charAt(e>>8*j+4&15)+hex_chr.charAt(e>>8*j&15);return str}function str2blks_MD5(e){for(nblk=(e.length+8>>6)+1,blks=new Array(16*nblk),i=0;i<16*nblk;i++)blks[i]=0;for(i=0;i<e.length;i++)blks[i>>2]|=e.charCodeAt(i)<<i%4*8;return blks[i>>2]|=128<<i%4*8,blks[16*nblk-2]=8*e.length,blks}function add(e,i){var o=(65535&e)+(65535&i),t=(e>>16)+(i>>16)+(o>>16);return t<<16|65535&o}function rol(e,i){return e<<i|e>>>32-i}function cmn(e,i,o,t,n,r){return add(rol(add(add(i,e),add(t,r)),n),o)}function ff(e,i,o,t,n,r,a){return cmn(i&o|~i&t,e,i,n,r,a)}function gg(e,i,o,t,n,r,a){return cmn(i&t|o&~t,e,i,n,r,a)}function hh(e,i,o,t,n,r,a){return cmn(i^o^t,e,i,n,r,a)}function ii(e,i,o,t,n,r,a){return cmn(o^(i|~t),e,i,n,r,a)}function calcMD5(e){for(x=str2blks_MD5(e),a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<x.length;i+=16)olda=a,oldb=b,oldc=c,oldd=d,a=ff(a,b,c,d,x[i+0],7,-680876936),d=ff(d,a,b,c,x[i+1],12,-389564586),c=ff(c,d,a,b,x[i+2],17,606105819),b=ff(b,c,d,a,x[i+3],22,-1044525330),a=ff(a,b,c,d,x[i+4],7,-176418897),d=ff(d,a,b,c,x[i+5],12,1200080426),c=ff(c,d,a,b,x[i+6],17,-1473231341),b=ff(b,c,d,a,x[i+7],22,-45705983),a=ff(a,b,c,d,x[i+8],7,1770035416),d=ff(d,a,b,c,x[i+9],12,-1958414417),c=ff(c,d,a,b,x[i+10],17,-42063),b=ff(b,c,d,a,x[i+11],22,-1990404162),a=ff(a,b,c,d,x[i+12],7,1804603682),d=ff(d,a,b,c,x[i+13],12,-40341101),c=ff(c,d,a,b,x[i+14],17,-1502002290),b=ff(b,c,d,a,x[i+15],22,1236535329),a=gg(a,b,c,d,x[i+1],5,-165796510),d=gg(d,a,b,c,x[i+6],9,-1069501632),c=gg(c,d,a,b,x[i+11],14,643717713),b=gg(b,c,d,a,x[i+0],20,-373897302),a=gg(a,b,c,d,x[i+5],5,-701558691),d=gg(d,a,b,c,x[i+10],9,38016083),c=gg(c,d,a,b,x[i+15],14,-660478335),b=gg(b,c,d,a,x[i+4],20,-405537848),a=gg(a,b,c,d,x[i+9],5,568446438),d=gg(d,a,b,c,x[i+14],9,-1019803690),c=gg(c,d,a,b,x[i+3],14,-187363961),b=gg(b,c,d,a,x[i+8],20,1163531501),a=gg(a,b,c,d,x[i+13],5,-1444681467),d=gg(d,a,b,c,x[i+2],9,-51403784),c=gg(c,d,a,b,x[i+7],14,1735328473),b=gg(b,c,d,a,x[i+12],20,-1926607734),a=hh(a,b,c,d,x[i+5],4,-378558),d=hh(d,a,b,c,x[i+8],11,-2022574463),c=hh(c,d,a,b,x[i+11],16,1839030562),b=hh(b,c,d,a,x[i+14],23,-35309556),a=hh(a,b,c,d,x[i+1],4,-1530992060),d=hh(d,a,b,c,x[i+4],11,1272893353),c=hh(c,d,a,b,x[i+7],16,-155497632),b=hh(b,c,d,a,x[i+10],23,-1094730640),a=hh(a,b,c,d,x[i+13],4,681279174),d=hh(d,a,b,c,x[i+0],11,-358537222),c=hh(c,d,a,b,x[i+3],16,-722521979),b=hh(b,c,d,a,x[i+6],23,76029189),a=hh(a,b,c,d,x[i+9],4,-640364487),d=hh(d,a,b,c,x[i+12],11,-421815835),c=hh(c,d,a,b,x[i+15],16,530742520),b=hh(b,c,d,a,x[i+2],23,-995338651),a=ii(a,b,c,d,x[i+0],6,-198630844),d=ii(d,a,b,c,x[i+7],10,1126891415),c=ii(c,d,a,b,x[i+14],15,-1416354905),b=ii(b,c,d,a,x[i+5],21,-57434055),a=ii(a,b,c,d,x[i+12],6,1700485571),d=ii(d,a,b,c,x[i+3],10,-1894986606),c=ii(c,d,a,b,x[i+10],15,-1051523),b=ii(b,c,d,a,x[i+1],21,-2054922799),a=ii(a,b,c,d,x[i+8],6,1873313359),d=ii(d,a,b,c,x[i+15],10,-30611744),c=ii(c,d,a,b,x[i+6],15,-1560198380),b=ii(b,c,d,a,x[i+13],21,1309151649),a=ii(a,b,c,d,x[i+4],6,-145523070),d=ii(d,a,b,c,x[i+11],10,-1120210379),c=ii(c,d,a,b,x[i+2],15,718787259),b=ii(b,c,d,a,x[i+9],21,-343485551),a=add(a,olda),b=add(b,oldb),c=add(c,oldc),d=add(d,oldd);return rhex(a)+rhex(b)+rhex(c)+rhex(d)}function httpPost(){}function loadFbConnectSdk(){!function(e){var i,o="facebook-jssdk",t=e.getElementsByTagName("script")[0];e.getElementById(o)||(i=e.createElement("script"),i.id=o,i.async=!0,i.src="//connect.facebook.net/en_US/sdk.js",t.parentNode.insertBefore(i,t))}(document)}function testAPI(){console.log("Welcome!  Fetching your information.... "),FB.api("/me",function(e){})}function updateFbData(e){null!=e.mmtEmail&&(mmtEmail=e.mmtEmail),null!=e.authToken&&(authToken=e.authToken),null!=e.fbEmail&&(fbEmail=e.fbEmail)}function loginWithFb(){function e(e,i,o){if(e)if(e=JSON.parse(e),200===e.responseCode){if($(".ch__profileOverlay").show(),$(".ch__loginSection,.ch__forgetPwdSection,.ch__signUpSection").slideUp(500),e.modelViews)for(var t=e.modelViews.length,n=0;n<t;n++)router.updatePartialModel(e.modelViews[n]);try{signInCurrentPage()}catch(r){}MMT_HEADER.loadLoggedInSections();var a=router.getViewModel("header_info_view");a&&"HLP"==a.data.lob&&e.otpVerification&&($(".ch__otpsection").show(),$(".hdr-send-otp-con").show(),$(".hdr_verifyMobText").text(""),$(".hdr_verifyOTPText").text("")),NotificationClient.populateNotificationOverlay(),NotificationClient.getSubscriptionAndRegister(!0)}else MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|FB","Login Failed"),alert(e.message);else MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|FB","Login Failed"),alert("Some error has occurred. Please try again.")}function i(e,i,o){MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|FB","Login Failed"),alert("Some error has occurred. Please try again.")}authToken="",FB.api("/me?fields=email,name,id,first_name,last_name",function(o){if(o.name){var t=FB.getAuthResponse().accessToken,n={};n.emailId=o.email,n.authToken=t,n.name=o.name,n.socialId=o.id,n.firstName=o.first_name,n.lastName=o.last_name,n.accountType="facebook",n.visitorId=MMT_HEADER.getCookie("s_vi"),MMT_HEADER.dynamicVar.loginEmail=o.email,MMT_HEADER.ajaxPost(MMT_HEADER.constants.socialLoginURL,JSON.stringify(n),e,i)}else console.log("Unable to connect with facebook. Please try again!!")})}function loadGPlusConnect(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.defer=!0,e.src="https://apis.google.com/js/api:client.js?onload=attachGplusButton";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}function attachGplusButton(){var e=document.getElementById("ch_signup_google"),i=document.getElementById("ch_login_google");gapi.load("auth2",function(){gapi.auth2.getAuthInstance()||(auth2=gapi.auth2.init({client_id:"365487944636-q943oq1rje9ugcbscagg2vre5om9maj0.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/plus.login "}),auth2.attachClickHandler(i,{},onGoogleSignIn,function(e){}),auth2.attachClickHandler(e,{},onGoogleSignIn,function(e){}))})}function onGoogleSignIn(e){var i={},o=e.getAuthResponse(),t=e.getBasicProfile();i.authToken=o.access_token,i.idToken=o.id_token,i.gPlusImage=t.getImageUrl(),i.emailId=t.getEmail(),i.name=t.getName(),i.socialId=t.getId(),i.firstName=t.getGivenName(),i.lastName=t.getFamilyName(),i.accountType="google",i.visitorId=MMT_HEADER.getCookie("s_vi"),MMT_HEADER.dynamicVar.loginEmail=t.getEmail(),MMT_HEADER.ajaxPost(MMT_HEADER.constants.socialLoginURL,JSON.stringify(i),successGPlusLogin,errorGPlusLogin)}function successGPlusLogin(e,i,o){if(e)if(e=JSON.parse(e),e&&200===e.responseCode){if($(".ch__profileOverlay").show(),$(".ch__loginSection,.ch__forgetPwdSection,.ch__signUpSection").slideUp(500),e.modelViews)for(var t=e.modelViews.length,n=0;n<t;n++)router.updatePartialModel(e.modelViews[n]);try{signInCurrentPage()}catch(r){}MMT_HEADER.loadLoggedInSections();var a=router.getViewModel("header_info_view");a&&"HLP"==a.data.lob&&e.otpVerification&&($(".ch__otpsection").show(),$(".hdr-send-otp-con").show(),$(".hdr_verifyMobText").text(""),$(".hdr_verifyOTPText").text("")),NotificationClient.populateNotificationOverlay(),NotificationClient.getSubscriptionAndRegister(!0)}else MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|GPlus","Login Failed"),alert(e.message);else MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|GPlus","Login Failed"),alert("Some error has occurred. Please try again.")}function errorGPlusLogin(e,i,o){MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|GPlus","Login Failed"),alert("Some error has occurred. Please try again.")}var hex_chr="0123456789abcdef",mtr_username="",MMT_HEADER={constants:{loginURL:"//hcs.makemytrip.com/commonheader/services/login",socialLoginURL:"//hcs.makemytrip.com/commonheader/services/socialLogin",registerURL:"//hcs.makemytrip.com/commonheader/services/registerUser",forgotPasswordURL:"//hcs.makemytrip.com/commonheader/services/forgotPassword",logoutURL:"//hcs.makemytrip.com/commonheader/services/logout",walletDetailsURL:"//hcs.makemytrip.com/commonheader/services/getWalletDetails",mmtBlackURL:"//hcs.makemytrip.com/commonheader/services/userStatus",myTripsDetailsURL:"//hcs.makemytrip.com/commonheader/services/getMyTrips",notificationRegisterURL:"//hcs.makemytrip.com/commonheader/services/notification/register",supportzLogoutURL:"https://support.makemytrip.com/signout.aspx",validateUserSessionUrl:"//hcs.makemytrip.com/commonheader/services/validateSession",sendOTPUrl:"//hcs.makemytrip.com/commonheader/services/sendOTP",verifyOTPUrl:"//hcs.makemytrip.com/commonheader/services/verifyOTP",defaultErrorMessage:"Some error occurred. Please try later",userNumber:"",resendOTPSuccess:"OTP sent again. Please check",getLoginDrawerHTML:"//hcs.makemytrip.com/commonheader/services/getLoginDrawerHTML",loginSectionHTML:"loginSectionHTML",signupHTML:"signupHTML",forgotPasswordHTML:"forgotPasswordHTML",lobsToServeHomeHeaderForCorporate:["HLP","SEO"],lobsToServeFunnelHeaderForCorporate:["HOTELS","FLIGHTS"]},dynamicVar:{loginEmail:""},ajaxGet:function(e,i,o){$.ajax({url:e,method:"GET",async:!0,dataType:"text",contentType:"application/json",crossDomain:!0,xhrFields:{withCredentials:!0},success:i,error:o})},ajaxPost:function(e,i,o,t){$.ajax({url:e,method:"POST",async:!0,dataType:"text",contentType:"application/json",crossDomain:!0,xhrFields:{withCredentials:!0},data:i,success:o,error:t})},ajaxCall:function(e,i,o,t,n,r,a,s){$.ajax({url:e,method:i,async:o,dataType:t,contentType:n,data:r,success:a,error:s})},submitSignUp:function(){function e(e,i,o){if($("#ch_signup_btn").removeClass("loading"),$("#ch_signup_btn").prop("disabled",!1),MMT_HEADER.dynamicVar.loginEmail=email,e)if(e=JSON.parse(e),e&&200===e.responseCode){if($("#ch_signup_email").val(""),$("#ch_signup_phone").val(""),$("#ch_signup_password").val(""),$(".ch__profileOverlay").show(),$(".ch__loginSection,.ch__forgetPwdSection,.ch__signUpSection").slideUp(500),e.modelViews)for(var n=e.modelViews.length,r=0;r<n;r++)router.updatePartialModel(e.modelViews[r]);try{signInCurrentPage()}catch(a){}MMT_HEADER.loadLoggedInSections(),t&&"HLP"==t.data.lob&&($(".ch__otpsection").show(),$(".hdr-send-otp-con").show(),$(".hdr_verifyMobText").text(""),$(".hdr_verifyOTPText").text("")),NotificationClient.populateNotificationOverlay(),NotificationClient.getSubscriptionAndRegister(!0)}else $("#ch_signup_error .ch-error-innertxt").text(e.message),MMT_CUSTOM.selectorShow($("#ch_signup_error"),"signup_error"+e.message);else $("#ch_signup_error .ch-error-innertxt").text(MMT_HEADER.constants.defaultErrorMessage),MMT_CUSTOM.selectorShow($("#ch_signup_error"),"signup_error"+MMT_HEADER.constants.defaultErrorMessage)}function i(e,i,o){$("#ch_signup_btn").removeClass("loading"),$("#ch_signup_btn").prop("disabled",!1),$("#ch_signup_error .ch-error-innertxt").text(MMT_HEADER.constants.defaultErrorMessage),MMT_CUSTOM.selectorShow($("#ch_signup_error"),"signup_error"+MMT_HEADER.constants.defaultErrorMessage)}if(email=$("#ch_signup_email").val(),phone=$("#ch_signup_phone").val(),password=$("#ch_signup_password").val(),MMT_HEADER.validations.validateSignUp(email,phone,password)){$("#ch_signup_btn").addClass("loading"),$("#ch_signup_btn").prop("disabled","disabled");var o={};o.email=email,o.phone=phone,o.password=password,o.visitorId=MMT_HEADER.getCookie("s_vi");var t=router.getViewModel("header_info_view");t&&(o.lob=t.data.lob),o=JSON.stringify(o),MMT_HEADER.ajaxPost(MMT_HEADER.constants.registerURL,o,e,i)}},submitForgotPassword:function(){function e(e,i,o){if($("#ch_forgetpwd_submit").removeClass("loading"),$("#ch_forgetpwd_submit").prop("disabled",!1),e)if(e=JSON.parse(e),e&&200===e.responseCode){if($("#ch_forgetpwd_email").val(""),$(".ch__loginSection,.ch__signUpSection").slideUp(500),$("#ch_forgotpwd_sent_text").text(e.message),$("#forgotpwd_password_section,#forgot_pwd_heading").hide(),$("#forgotpwd_sent_section").show(),e.modelViews)for(var t=e.modelViews.length,n=0;n<t;n++)router.updatePartialModel(e.modelViews[n])}else $("#ch_forgetpwd_error .ch-error-innertxt").text(e.message),$("#ch_forgetpwd_error").show();else $("#ch_forgetpwd_error .ch-error-innertxt").text(MMT_HEADER.constants.defaultErrorMessage),$("#ch_forgetpwd_error").show()}function i(e,i,o){$("#ch_forgetpwd_submit").removeClass("loading"),$("#ch_forgetpwd_submit").prop("disabled",!1),$("#ch_forgetpwd_error .ch-error-innertxt").text(MMT_HEADER.constants.defaultErrorMessage),$("#ch_forgetpwd_error").show()}var o=$("#ch_forgetpwd_email").val();if(MMT_HEADER.validations.validateForgotPassword(o)){$("#ch_forgetpwd_submit").addClass("loading"),$("#ch_forgetpwd_submit").prop("disabled","disabled");var t={};t.email=o,t.visitorId=MMT_HEADER.getCookie("s_vi"),t=JSON.stringify(t),MMT_HEADER.ajaxPost(MMT_HEADER.constants.forgotPasswordURL,t,e,i)}},submitLogin:function(){function e(e,i,o){if($("#ch_login_btn").removeClass("loading"),$("#ch_login_btn").prop("disabled",!1),MMT_HEADER.dynamicVar.loginEmail=email,e)if(e=JSON.parse(e),e&&200===e.responseCode){if($("#ch_login_email").val(""),$("#ch_login_password").val(""),$(".ch__profileOverlay").show(),$(".ch__loginSection,.ch__forgetPwdSection,.ch__signUpSection").slideUp(500),e.modelViews)for(var t=e.modelViews.length,r=0;r<t;r++)router.updatePartialModel(e.modelViews[r]);try{signInCurrentPage()}catch(a){}var s=MMT_HEADER.getCookie("myBusinessSubscription");if(s&&"b2b"==s)try{corporateSignIn()}catch(a){}MMT_HEADER.loadLoggedInSections(),n&&"HLP"==n.data.lob&&e.otpVerification&&($(".ch__otpsection").show(),$(".hdr-send-otp-con").show(),$(".hdr_verifyMobText").text(""),$(".hdr_verifyOTPText").text("")),NotificationClient.populateNotificationOverlay(),NotificationClient.getSubscriptionAndRegister(!0)}else $("#ch_login_error .ch-error-innertxt").text(e.message),MMT_CUSTOM.selectorShow($("#ch_login_error"),"login_error: "+e.message);else $("#ch_login_error .ch-error-innertxt").text(MMT_HEADER.constants.defaultErrorMessage),MMT_CUSTOM.selectorShow($("#ch_login_error"),"login_error: "+MMT_HEADER.constants.defaultErrorMessage)}function i(e,i,o){$("#ch_login_btn").removeClass("loading"),$("#ch_login_btn").prop("disabled",!1),$("#ch_login_error .ch-error-innertxt").text(MMT_HEADER.constants.defaultErrorMessage),MMT_CUSTOM.selectorShow($("#ch_login_error"),"login_error: "+MMT_HEADER.constants.defaultErrorMessage)}email=$("#ch_login_email").val(),password=$("#ch_login_password").val();var o=$(".corploginSignup:checked").val();if(MMT_HEADER.validations.validateLogin(email,password)){$("#ch_login_btn").addClass("loading"),$("#ch_login_btn").prop("disabled","disabled");var t={};t.email=email,t.password=password,t.custType=o,t.visitorId=MMT_HEADER.getCookie("s_vi");var n=router.getViewModel("header_info_view");n&&(t.lob=n.data.lob),t=JSON.stringify(t),MMT_HEADER.ajaxPost(MMT_HEADER.constants.loginURL,t,e,i)}},submitLogOut:function(){function e(e,i,o){if(e)if(e=JSON.parse(e),e&&200===e.responseCode){if($(".ch__profileOverlay").hide(),$(".list_overlay").hide(),MMT_HEADER.clearCache(),MMT_HEADER.constants.lobsToServeHomeHeaderForCorporate.indexOf(t.data.lob)>-1?($("#mmt_header_navigation").removeClass("corp-theme"),$(".ch_myBusiness").show(),$(".ch__mmtBlack").hide(),$(".o-mmt-black").hide(),$(".ch_b2cSupport").show(),$(".ch_b2bSupport").hide(),$(".hdr_referEarn").show(),$(".ch_referEarnHome").show()):$(".ch__bodyWrapper").removeClass("corp-theme"),$(".ch__loginSection,.ch__forgetPwdSection,.ch__signUpSection,.hdr-send-otp-con,.hdr-verfy-otp-con").slideUp(500),e.modelViews)for(var n=e.modelViews.length,r=0;r<n;r++)router.updatePartialModel(e.modelViews[r]);MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"Guest","Logout Success"),MMT_HEADER.dynamicVar.loginEmail="";try{signOutCurrentPage()}catch(a){}NotificationClient.populateNotificationOverlay(),NotificationClient.getSubscriptionAndRegister(!0),(window.location.href.indexOf("support.makemytrip.com")>-1||window.location.href.indexOf("supportz.makemytrip.com")>-1)&&(document.location.href=MMT_HEADER.constants.supportzLogoutURL)}else console.log("Error while Logging out : "+e.message);else console.log("Error while Logging out")}function i(e,i,o){console.log("Error while Logging out : "+o)}var o={},t=router.getViewModel("header_info_view");t&&(o.lob=t.data.lob,o.visitorId=MMT_HEADER.getCookie("s_vi")),o=JSON.stringify(o),$(".switch-profile-m1").hide(),$(".switch-profile-ol").hide(),MMT_HEADER.ajaxPost(MMT_HEADER.constants.logoutURL,o,e,i)},businessLogout:function(){function e(e,i,o){e?(e=JSON.parse(e),e&&200===e.responseCode?($(".ch__profileOverlay").hide(),$(".list_overlay").hide(),MMT_HEADER.clearCache(),document.location.href="//mybiz.makemytrip.com/userlogin?nextPage=main_booking_site"):console.log("Error while Logging out : "+e.message)):console.log("Error while Logging out")}function i(e,i,o){console.log("Error while Logging out : "+o)}var o={},t=router.getViewModel("header_info_view");t&&(o.lob=t.data.lob),o=JSON.stringify(o),$(".switch-profile-m1").hide(),$(".switch-profile-ol").hide(),$(".switch-profile-myBusiness").hide(),MMT_HEADER.ajaxPost(MMT_HEADER.constants.logoutURL,o,e,i)},loadLoggedInSections:function(){var e=MMT_HEADER.getCookie("mmt-auth");if(!e)return void MMT_HEADER.clearCache();$(".ch__profileOverlay").show();var i=router.getViewModel("user_logged_in"),o=MMT_HEADER.getCookie("myBusinessSubscription");if("b2b"==o){var t=router.getViewModel("header_info_view");t&&MMT_HEADER.constants.lobsToServeHomeHeaderForCorporate.indexOf(t.data.lob)>-1?($("#mmt_header_navigation").addClass("corp-theme"),$(".ch_myBusiness").hide(),$(".ch_b2cSupport").hide(),$(".ch_b2bSupport").show(),$(".hdr_referEarn").hide(),$(".ch_referEarnHome").hide()):t&&MMT_HEADER.constants.lobsToServeFunnelHeaderForCorporate.indexOf(t.data.lob)>-1&&$(".ch__bodyWrapper").addClass("corp-theme"),location.href.indexOf("www.makemytrip.com/bus-tickets")>-1||location.href.indexOf("www.makemytrip.com/holidays-india")>-1||location.href.indexOf("www.makemytrip.com/holidays-international")>-1?document.location.href="//www.makemytrip.com":location.href.indexOf("www.makemytrip.com/railways")>-1||location.href.indexOf("www.makemytrip.com/cabs")>-1?document.location.href="//www.makemytrip.com":(location.href.indexOf("www.makemytrip.com/flights-hotels")>-1||location.href.indexOf("homestays.makemytrip.com")>-1)&&(document.location.href="//www.makemytrip.com"),$("#hdr_personal-account").removeClass("active"),$("#hdr_corp-account").addClass("active"),$(".ch_profilePersonal").hide(),$(".ch_profileCorp").show()}else $("#hdr_corp-account").removeClass("active"),$("#hdr_personal-account").addClass("active"),$(".ch_profileCorp").hide(),$(".ch_profilePersonal").show();if(this.validateSession(),i&&i.data&&"1"===i.data.display){null!=o&&"b2b"==o||(this.loadWallet(),this.loadMMTBlack()),this.loadMytrips();var n=MMT_HEADER.getCookie("fbEmail");n&&"f"===n.charAt(2)?MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|FB","Login Success"):n&&"g"===n.charAt(2)?MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|GPlus","Login Success"):MMT_HEADER.loginLogoutEvent(MMT_HEADER.dynamicVar.loginEmail,"LoggedIn|MMT","Login Success")}},loadProfileOverlay:function(){if(!MMT_HEADER.getCookie("mmt-auth"))return void MMT_HEADER.clearCache();$(".ch__profileOverlay").show();var e=(router.getViewModel("header_info_view"),router.getViewModel("user_logged_in")),i=MMT_HEADER.getCookie("myBusinessSubscription");this.validateSession(),null==i||"b2b"!=i?($("#hdr_corp-account").removeClass("active"),$("#hdr_personal-account").addClass("active"),$(".ch_profileCorp").hide(),$(".ch_profilePersonal").show(),this.loadMMTBlack(),e&&e.data&&"1"===e.data.display&&this.loadWallet()):($(".ch__bodyWrapper").addClass("corp-theme"),$("#hdr_personal-account").removeClass("active"),$("#hdr_corp-account").addClass("active"),$(".ch_profilePersonal").hide(),$(".ch_profileCorp").show())},loadWallet:function(){function e(e,o,t){$("#wallet_loader_icon").hide();var n=MMT_HEADER.getCookie("mmt-auth");e&&(e=JSON.parse(e),200===e.responseCode?n&&null!=n&&n.length>100&&i(e,!1):5404===e.responseCode&&(document.location.href="//www.makemytrip.com"))}function i(e,i){if(e.modelViews)for(var o=e.modelViews.length,t=0;t<o;t++)router.updatePartialModel(e.modelViews[t]);var r=s_gi("mmtprod");if(r.linkTrackVars="channel,eVar1,eVar15,eVar34,eVar39,eVar95",e.walletAmount&&e.walletAmount>0?r.eVar95=e.walletAmount:r.eVar95="Null",r.tl(this,"o",null),!i){var a=(new Date).getTime()+e.payload;MMT_HEADER.putInCache(n+"_wallet",e,a)}}function o(e,i,o){$("#wallet_loader_icon").hide(),$(".o-i-wallet").show()}var t=router.getViewModel("header_info_view");if(null!=t&&"0"!==t.data.displayWallet){$("#wallet_loader_icon").show(),$(".o-i-wallet").hide();var n=MMT_HEADER.getCookie("mmt-auth"),r=MMT_HEADER.getFromCache(n+"_wallet");if(r)$("#wallet_loader_icon").hide(),i(r,!0);else{var a=MMT_HEADER.getCookie("s_vi");MMT_HEADER.ajaxPost(MMT_HEADER.constants.walletDetailsURL,a,e,o)}}},loadMMTBlack:function(){function e(e,o,t){var n=MMT_HEADER.getCookie("mmt-auth");e&&(e=JSON.parse(e),200===e.responseCode?n&&null!=n&&n.length>100&&i(e,!1):5404===e.responseCode&&(document.location.href="//www.makemytrip.com"))}function i(e,i){var o=router.getViewModel("header_info_view");if(o&&"HLP"==o.data.lob){var t={};t=i?MMT_HEADER.getCookie("MMT_LOYALTY"):e.payload,"ACTIVE_INIT"!=t&&"ACTIVE"!=t||($(".o-mmt-black").show(),$(".ch__mmtBlack").show())}}function o(e,i,o){}var t=MMT_HEADER.getCookie("MMT_LOYALTY");if(null!=t)i(null,!0);else{var n=MMT_HEADER.getCookie("s_vi");MMT_HEADER.ajaxPost(MMT_HEADER.constants.mmtBlackURL,n,e,o)}},validateSession:function(){function e(e,i,o){e&&(e=JSON.parse(e),5404===e.responseCode&&(document.location.href="//www.makemytrip.com"))}function i(e,i,o){}var o=MMT_HEADER.getCookie("userSession");if(!o){var t={};t.headerType="NEW_HEADER",t.visitorId=MMT_HEADER.getCookie("s_vi"),MMT_HEADER.ajaxPost(MMT_HEADER.constants.validateUserSessionUrl,JSON.stringify(t),e,i)}},loadMytrips:function(){function e(e,o,t){$("#trips_loader_icon").hide(),$(".o-i-trip-bag").show();var n=MMT_HEADER.getCookie("mmt-auth");n&&null!=n&&n.length>100&&e&&(e=JSON.parse(e),200===e.responseCode&&i(e,!1))}function i(e,i){if(e.modelViews)for(var o=e.modelViews.length,t=0;t<o;t++)router.updatePartialModel(e.modelViews[t]);var n=router.getViewModel("trip_list_overlay");if(n&&n.data&&n.data.length>0&&$(".list_overlay").show(),!i){var a=(new Date).getTime()+e.payload;MMT_HEADER.putInCache(r+"_trips",e,a)}}function o(e,i,o){$("#trips_loader_icon").hide(),$(".o-i-trip-bag").show()}var t=router.getViewModel("header_info_view");if("HLP"===t.data.lob&&"0"!==t.data.displayMytrips){$("#trips_loader_icon").show(),$(".o-i-trip-bag").hide();var n=router.getViewModel("trip_login_overlay");n&&n.data&&"1"==n.data.display&&(n.data.display="0");var r=MMT_HEADER.getCookie("mmt-auth"),a=MMT_HEADER.getFromCache(r+"_trips");if(a)$("#trips_loader_icon").hide(),$(".o-i-trip-bag").show(),i(a,!0);else{var s=MMT_HEADER.getCookie("s_vi");MMT_HEADER.ajaxPost(MMT_HEADER.constants.myTripsDetailsURL,s,e,o)}}},sendOTPNumber:function(){function e(e,i,o){e&&(e=JSON.parse(e),200===e.responseCode?(MMT_HEADER.constants.userNumber=t,$(".hdr-send-otp-con").hide(),$(".hdr-verfy-otp-con").show()):$(".hdr_verifyMobText").text(e.message))}function i(e,i,o){$(".hdr_verifyMobText").text(MMT_HEADER.constants.defaultErrorMessage)}var o=MMT_HEADER.getCookie("mmt-auth");if(o){var t=$("#ch_mobile_number").val(),n="+91";t=n.concat(t);var r=null;if(r=MMT_HEADER.validations.validatePhone(t))$(".hdr_verifyMobText").text(r);else{var a={};a.mobileNum=t,a.visitorId=MMT_HEADER.getCookie("s_vi"),a=JSON.stringify(a),MMT_HEADER.ajaxPost(MMT_HEADER.constants.sendOTPUrl,a,e,i)}}},verifyOTPNumber:function(){function e(e,i,o){if(e)if(e=JSON.parse(e),200===e.responseCode){$(".hdr-send-otp-con").hide(),$(".hdr-verfy-otp-con").hide(),$("#ch_OTP_token").val(""),$("#ch_mobile_number").val("");try{mobileOTPVerified()}catch(t){}}else $(".hdr_verifyOTPText").text(e.message)}function i(e,i,o){$(".hdr_verifyOTPText").text(MMT_HEADER.constants.defaultErrorMessage)}var o=$("#ch_OTP_token").val(),t={};t.token=o,t.mobileNum=MMT_HEADER.constants.userNumber,t.visitorId=MMT_HEADER.getCookie("s_vi"),t=JSON.stringify(t),MMT_HEADER.ajaxPost(MMT_HEADER.constants.verifyOTPUrl,t,e,i)},resendOTPNumber:function(){function e(e,i,o){e&&(e=JSON.parse(e),200===e.responseCode?($(".hdr-send-otp-con").hide(),$(".hdr-verfy-otp-con").show(),$(".hdr_verifyOTPText").text(MMT_HEADER.constants.resendOTPSuccess)):$(".hdr_verifyOTPText").text(e.message))}function i(e,i,o){$(".hdr_verifyOTPText").text(MMT_HEADER.constants.defaultErrorMessage)}var o={};o.mobileNum=MMT_HEADER.constants.userNumber,o.visitorId=MMT_HEADER.getCookie("s_vi"),o=JSON.stringify(o),MMT_HEADER.ajaxPost(MMT_HEADER.constants.sendOTPUrl,o,e,i)},loadSocialConnect:function(){loadGPlusConnect()},loadFacebookSDK:function(){loadFbConnectSdk()},getLoginDrawerHTML:function(){function e(e,i,o){var t=JSON.parse(e);void 0===$("#ch_login_email")[0]&&$("#userLoginSection").append(t[MMT_HEADER.constants.loginSectionHTML]),void 0===$("#ch_forgetpwd_email")[0]&&$("#userForgetPassword").append(t[MMT_HEADER.constants.forgotPasswordHTML]),void 0===$("#ch_signup_email")[0]&&$("#userSignUp").append(t[MMT_HEADER.constants.signupHTML]),MMT_HEADER.removePartiallyAppliedListenersForHTML(),MMT_HEADER.freshlyRegisterListenersForHTML(),MMT_HEADER.loadFacebookSDK(),MMT_HEADER.loadSocialConnect()}function i(e,i,o){}$("#userLoginSection").is(":visible")&&$("#userLoginSection").children().length>0||$("#userSignUp").is(":visible")&&$("#userSignUp").children().length>0||MMT_HEADER.ajaxGet(MMT_HEADER.constants.getLoginDrawerHTML,e,i)},removePartiallyAppliedListenersForHTML:function(){MMT_CUSTOM.removeAllEvents()},freshlyRegisterListenersForHTML:function(){MMT_CUSTOM.attachAllEvents()},clearCache:function(){var e=MMT.cache.get("hcs",null);if(e){e=JSON.parse(e);var i=e.notification;if(void 0==i||null==i)return void MMT.cache.remove("hcs");for(var o in e)"notification"!=o&&delete e[o];i.content&&i.content.loginItems&&(i.content.loginItems=null),e.notification=i,MMT.cache.set("hcs",JSON.stringify(e))}},putInCache:function(e,i,o){var t={};t.expires=o,t.content=i;var n=MMT.cache.get("hcs",null);n=n?JSON.parse(n):{},n[e]=t,MMT.cache.set("hcs",JSON.stringify(n))},getFromCache:function(e){var i=null,o=null,t=MMT.cache.get("hcs",null);if(t&&(t=JSON.parse(t),o=t[e])){var n=o.expires,r=(new Date).getTime();r>=n?(t[e]=null,MMT.cache.set("hcs",JSON.stringify(t))):i=o.content}return i},getCookie:function(e){for(var i=e+"=",o=document.cookie.split(";"),t=0;t<o.length;t++){for(var n=o[t];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(i))return n.substring(i.length,n.length)}return null},setVisitorCookie:function(){var e=MMT_HEADER.getCookie("hcs_vid"),i=MMT_HEADER.getCookie("s_vi");if(!e&&i){var o=MMT_HEADER.formatVisitorId(i);o&&(document.cookie="hcs_vid="+o+"; path=/; domain=.makemytrip.com")}},formatVisitorId:function(e){var i=e.split("|");if(i[1]){var o=i[1].split("[");if(o[0])return o[0]}return""},loginLogoutEvent:function(e,i,o){var t=s_gi("mmtprod");t.linkTrackVars="channel,eVar1,eVar15,eVar24,eVar34,eVar39,prop24,prop54",t.eVar34=e,t.eVar39=i,t.prop54=o,t.tl(this,"o",o)},checkRedirect:function(){if(MMT_HEADER.getCookie("mmt-auth")){var e=MMT_HEADER.getCookie("myBusinessSubscription");if(e&&"b2b"==e)return $(".switch-profile-ol").show(),!1}return!0}};MMT_HEADER.validations={validateSignUp:function(e,i,o){var t=null,n=!0;return t=MMT_HEADER.validations.validateEmail(e),t&&(MMT_HEADER.validations.showErrorMessage("ch_signup_email_error",t),n=!1),t=MMT_HEADER.validations.validatePhone(i),t&&(MMT_HEADER.validations.showErrorMessage("ch_signup_phone_error",t),n=!1),o=$("#ch_signup_password").val(),t=MMT_HEADER.validations.validateSignupPassword(o),t&&(MMT_HEADER.validations.showErrorMessage("ch_signup_password_error",t),n=!1),n},validateForgotPassword:function(e){var i=null;return i=MMT_HEADER.validations.validateEmail(e),!i||(MMT_HEADER.validations.showErrorMessage("ch_forgetpwd_email_error",i),!1)},validateLogin:function(e,i){var o=null,t=!0;return o=MMT_HEADER.validations.validateEmail(e),o&&(MMT_HEADER.validations.showErrorMessage("ch_login_email_error",o),t=!1),o=MMT_HEADER.validations.validatePassword(i),o&&(MMT_HEADER.validations.showErrorMessage("ch_login_password_error",o),t=!1),t},showErrorMessage:function(e,i){$("#"+e+" > .ch-error-innertxt").text(i),$("#"+e).show()},validateEmail:function(e){if(null==e||""==e.trim())return"Please enter an Email Address";var i=/^[a-zA-Z0-9_!#$%&'*+\/=?`{|}~^.-]+@[a-zA-Z0-9.-]+$/;return i.test(e.trim())?null:"Please enter a valid Email Address"},validatePhone:function(e){var i=!1;return i=null!=e&&""!=e.trim()&&(e.startsWith("+91")?!!new RegExp(/^\d{10}$/).test(e.substring(3)):!!new RegExp(/^[+]?[0-9]{5,15}$/).test(e)),i?null:"Please enter a valid Phone Number"},validatePassword:function(e){return e&&""!=e.trim()?e.length<6?"The password should be minimum of 6 characters":null:"Please enter a password"},validateSignupPassword:function(e){return e&&""!=e.trim()?e.length<6?"The password should be minimum of 6 characters":e.match(/\d/)&&e.match(/[a-z]/i)?null:"The password should be alphanumeric":"Please enter a password"}},window.fbAsyncInit=function(){FB.init({appId:"168059739963878",channelUrl:"//"+window.location.hostname+"/channel",status:!0,cookie:!0,xfbml:!0,version:"v2.8"}),FB.getLoginStatus(function(e){"connected"===e.status||"not_authorized"===e.status})};var NotificationClient={sendSubscriptionToServer:function(e,i){var o=e.toJSON(),t="",n="",r=e.endpoint.split("/"),a=r[r.length-1];null!=o.keys&&(t=o.keys.auth,n=o.keys.p256dh);var s=!1,c=MMT_HEADER.getFromCache("notification");c&&null!=c?null!=c.subscription&&c.subscription.pushId==a&&c.subscription.auth==t&&c.subscription.p256dh==n||(s=!0):(c={},s=!0);var l=c.lastCall,d=(new Date).getTime();if((i||null==l||d-l>864e5)&&(c.lastCall=d,s=!0),s){c.subscription={pushId:a,auth:t,p256dh:n};var h=new Date("December 31, 2030 23:59:59");MMT_HEADER.putInCache("notification",c,h);var _=this.getBrowserDetails(),g=_.browserName,u=_.majorVersion,p="";navigator.appVersion.indexOf("Win")!=-1?p="Windows":navigator.appVersion.indexOf("Mac")!=-1?p="MacOS":navigator.appVersion.indexOf("X11")!=-1?p="UNIX":navigator.appVersion.indexOf("Linux")!=-1&&(p="Linux");for(var f=p+"|"+g+" "+_.fullVersion,m="",M=0;M<a.length;)m+=a.charAt(M),M+=4;var v=MMT_HEADER.getCookie("s_vi"),E={deviceId:m,pushId:a,auth:t,p256dh:n,deviceModel:f,browser:g,browserVersion:u,visitorId:v};E=JSON.stringify(E),MMT_HEADER.ajaxPost(MMT_HEADER.constants.notificationRegisterURL,E,NotificationClient.successAirpushRegister,NotificationClient.errorAirpushRegister)}},successAirpushRegister:function(e,i,o){e&&(e=JSON.parse(e),e&&200==e.responseCode||5404===e.responseCode&&(document.location.href="//www.makemytrip.com"))},errorAirpushRegister:function(e,i,o){},getBrowserDetails:function(){var e,i,o,t=navigator.userAgent,n=navigator.appName,r=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10);(i=t.indexOf("Opera"))!=-1?(n="Opera",r=t.substring(i+6),(i=t.indexOf("Version"))!=-1&&(r=t.substring(i+8))):(i=t.indexOf("MSIE"))!=-1?(n="Microsoft Internet Explorer",r=t.substring(i+5)):(i=t.indexOf("Chrome"))!=-1?(n="Chrome",r=t.substring(i+7)):(i=t.indexOf("Safari"))!=-1?(n="Safari",r=t.substring(i+7),(i=t.indexOf("Version"))!=-1&&(r=t.substring(i+8))):(i=t.indexOf("Firefox"))!=-1?(n="Firefox",r=t.substring(i+8)):(e=t.lastIndexOf(" ")+1)<(i=t.lastIndexOf("/"))&&(n=t.substring(e,i),r=t.substring(i+1),n.toLowerCase()==n.toUpperCase()&&(n=navigator.appName)),(o=r.indexOf(";"))!=-1&&(r=r.substring(0,o)),(o=r.indexOf(" "))!=-1&&(r=r.substring(0,o)),a=parseInt(""+r,10),isNaN(a)&&(r=""+parseFloat(navigator.appVersion),
a=parseInt(navigator.appVersion,10));var s={browserName:n,fullVersion:r,majorVersion:a};return s},getSubscriptionAndRegister:function(e){if(router.getViewModel("header_info_view")&&"1"!==router.getViewModel("header_info_view").data.displayNotifications)return void NotificationClient.disableNotifications();if("serviceWorker"in navigator&&"showNotification"in ServiceWorkerRegistration.prototype&&"denied"!==Notification.permission&&"PushManager"in window){var i=Notification.permission;navigator.serviceWorker.ready.then(function(o){o.pushManager.getSubscription().then(function(t){t?NotificationClient.sendSubscriptionToServer(t,e):o.pushManager.subscribe({userVisibleOnly:!0}).then(function(o){"default"===i&&NotificationClient.notificationOmnitureCall(null,"allow"),NotificationClient.sendSubscriptionToServer(o,e)})["catch"](function(e){"denied"===Notification.permission?"default"===i&&NotificationClient.notificationOmnitureCall(null,"block"):"default"===Notification.permission&&"default"===i&&NotificationClient.notificationOmnitureCall(null,"cross")})})["catch"](function(e){})})}},populateNotificationOverlay:function(){var e=router.getViewModel("header_info_view");if(!e||"HLP"===e.data.lob&&"1"===e.data.displayNotifications){var i=MMT_HEADER.getFromCache("notification");i=NotificationClient.removeExpiredNotifications(i);var o=MMT_HEADER.getCookie("mmt-auth");if(null!=i){var t;if(o&&null!=o){t=new Array;var n=null==i.loginItems||0==i.loginItems.length,r=null==i.logoutItems||0==i.logoutItems.length;if(n&&r)t=null;else if(n&&!r)t=i.logoutItems;else if(!n&&r)t=i.loginItems;else{for(var a=0,s=0,c=0;a<3&&s<i.loginItems.length&&c<i.logoutItems.length;){var l=i.loginItems[s],d=i.logoutItems[c];l.time>d.time?(t[a++]=l,s++):(t[a++]=d,c++)}if(s==i.loginItems.length&&3!=a)for(;a<3;c++)t[a++]=i.logoutItems[c];if(c==i.logoutItems.length&&3!=a)for(;a<3;s++)t[a++]=i.loginItems[s]}}else t=i.logoutItems;var h=0;if(null!=t&&t.length>0){for(var s=0;s<t.length;s++)$("#notification_"+s+" #title").text(t[s].title),$("#notification_"+s+" #text").text(t[s].body),$("#notification_"+s).show(),$("#notification_"+s+" a").attr("href",t[s].webpageURL),t[s].highlight&&h++;for(var c=s;c<3;c++)$("#notification_"+c).hide();h>0?($(".ch__notificationCount").text(h),$(".ch__notificationCount").show()):$(".ch__notificationCount").hide()}else $(".ch__notificationCount").hide()}else $(".ch__notificationCount").hide()}},resetNewNotificationCount:function(){var e=MMT_HEADER.getFromCache("notification");if(null!=e){var i=!1,o=e.loginItems,t=e.logoutItems;if(null!=o&&o.length>0)for(var n=0;n<o.length;n++)o[n].highlight&&(o[n].highlight=!1,i=!0);if(null!=t&&t.length>0)for(var n=0;n<t.length;n++)t[n].highlight&&(t[n].highlight=!1,i=!0);if(e.loginItems=o,e.logoutItems=t,i){NotificationClient.populateNotificationOverlay();var r=new Date("December 31, 2030 23:59:59");MMT_HEADER.putInCache("notification",e,r)}}},removeExpiredNotifications:function(e){if(null!=e){var i=!1,o=e.loginItems,t=e.logoutItems;if(null!=o&&0!=o.length)for(var n=0;n<o.length;n++)try{var r=o[n].campaign,a=NotificationClient.getCampaignTime(r);if(null==a)continue;var s=(new Date).getTime();a<s&&(o.splice(n,1),n--,i=!0)}catch(c){}if(null!=t&&0!=t.length)for(var n=0;n<t.length;n++)try{var r=t[n].campaign,a=NotificationClient.getCampaignTime(r);if(null==a)continue;var s=(new Date).getTime();a<s&&(t.splice(n,1),n--,i=!0)}catch(c){}if(e.loginItems=o,e.logoutItems=t,i){var l=new Date("December 31, 2030 23:59:59");MMT_HEADER.putInCache("notification",e,l)}}return e},getCampaignTime:function(e){var i=e.lastIndexOf("_");if(i<0)return null;var o=e.substring(i+1);if(o.length<10||o.lastIndexOf("-")-o.indexOf("-")!=3)return null;var t=o.substring(0,o.indexOf("-")),n=o.substring(o.indexOf("-")+1,o.lastIndexOf("-")),r=o.substring(o.lastIndexOf("-")+1,o.indexOf(" ")),a="",s="",c="";o.indexOf(" ")<0||o.indexOf(":")<0?(a="00",s="00",c="00"):(a=o.substring(o.indexOf(" ")+1,o.indexOf(":")),o.indexOf(":")==o.lastIndexOf(":")?(s=o.substring(o.indexOf(":")+1),c="00"):(s=o.substring(o.indexOf(":")+1,o.lastIndexOf(":")),c=o.substring(o.lastIndexOf(":")+1)));var l=new Date(r,n-1,t,a,s,c,0);return l.getTime()},fetchNotificationFromServiceWorker:function(){return new Promise(function(e,i){var o=new MessageChannel;o.port1.onmessage=function(o){if(o.data.error)i(o.data.error);else{e(o.data);var t=o.data;if(null==t||0==t.length)return;for(var n=0;n<t.length;n++){var r=t[n];0==r.silent&&NotificationClient.saveNotification(r),r.clicked&&NotificationClient.notificationOmnitureCall(r,"click")}NotificationClient.populateNotificationOverlay()}},navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage("Requesting Notification From SW ",[o.port2])})},saveNotification:function(e){e.highlight=!0;var i=MMT_HEADER.getCookie("mmt-auth"),o=MMT_HEADER.getFromCache("notification");null==o&&(o={}),null==o.loginItems&&(o.loginItems=new Array),null==o.logoutItems&&(o.logoutItems=new Array);for(var t=0;t<3;t++)if(o.logoutItems[t]&&o.logoutItems[t].time==e.time||o.loginItems[t]&&o.loginItems[t].time==e.time)return;null!=i?(o.loginItems.unshift(e),4==o.loginItems.length&&(o.loginItems.length=3)):(o.logoutItems.unshift(e),4==o.logoutItems.length&&(o.logoutItems.length=3));var n=new Date("December 31, 2030 23:59:59");MMT_HEADER.putInCache("notification",o,n)},notificationOmnitureCall:function(e,i){var o=s_gi("mmtprod");if("click"==i){o.linkTrackVars="eVar0,eVar1,eVar39,eVar61,prop24",o.eVar0=e.campaign,o.eVar1=navigator.userAgent;var t=MMT_HEADER.getCookie("mmt-auth");t?o.eVar39="LoggedIn":o.eVar39="LoggedOut",o.eVar61="en",o.prop24="brand"}else{o.linkTrackVars="eVar1,eVar39,eVar61,prop54",o.eVar1=navigator.userAgent;var t=MMT_HEADER.getCookie("mmt-auth");t?o.eVar39="LoggedIn":o.eVar39="LoggedOut",o.eVar61="en","block"==i?o.prop54="System_popup_Block":"allow"==i?o.prop54="System_popup_Allow":"cross"==i&&(o.prop54="System_popup_Cross")}o.tl()},disableNotifications:function(){$(".notification_dropdown").hide(),$("#ch_notification").hide()},registerServiceWorker:function(){"serviceWorker"in navigator&&(navigator.serviceWorker.register("/sw-mmt.js").then(function(e){NotificationClient.getSubscriptionAndRegister(!1),NotificationClient.fetchNotificationFromServiceWorker()})["catch"](function(e){}),navigator.serviceWorker.addEventListener("message",function(e){null!=e.data&&(e.data.clicked&&NotificationClient.notificationOmnitureCall(e.data,"click"),e.data.silent||(NotificationClient.saveNotification(e.data),NotificationClient.populateNotificationOverlay()))}))}};$(window).load(function(){NotificationClient.registerServiceWorker(),NotificationClient.populateNotificationOverlay()}),$(document).ready(function(){function e(){var e=new Array;e[0]=new Array("www.makemytrip.com/flights","flights"),e[1]=new Array("www.makemytrip.com/international-flights","flights"),e[2]=new Array("www.makemytrip.com/hotels","hotels"),e[3]=new Array("www.makemytrip.com/hotels-international","hotels"),e[4]=new Array("www.makemytrip.com/holidays-india","holidays"),e[5]=new Array("www.makemytrip.com/holidays-international","holidays"),e[6]=new Array("www.makemytrip.com/bus-tickets","bus"),e[7]=new Array("www.makemytrip.com/railways","rail"),e[8]=new Array("www.makemytrip.com/cabs","cabs"),e[9]=new Array("www.makemytrip.com/gift-cards","gift-card"),e[9]=new Array("homestays.makemytrip.com","homestay");var i="";if("http://www.makemytrip.com/"===location.href||"https://www.makemytrip.com/"===location.href)$("#header_tab_flights").addClass("active");else for(var o=0;o<e.length;o++)location.href.indexOf(e[o][0])!=-1?(i=e[o][1],$("#header_tab_"+i).addClass("active")):e[o][1]!==i&&$("#header_tab_"+e[o][1]).removeClass("active")}$("#ch_trips_login").click(function(e){e.stopPropagation(),MMT_HEADER.loadSocialConnect(),$(".ch__loginSection").is(":visible")||$(".ch__signUpSection,.ch__forgetPwdSection").slideUp(500,function(){$("div[id^='ch'][id$='error']").hide(),$(".ch__loginSection").slideDown(500)})}),$("#ch_trips_signup").click(function(e){e.stopPropagation(),MMT_HEADER.loadSocialConnect(),$(".ch__signUpSection").is(":visible")||$(".ch__loginSection,.ch__forgetPwdSection").slideUp(500,function(){$("div[id^='ch'][id$='error']").hide(),$(".ch__signUpSection").slideDown(500)})}),$("#ch_notification").mouseover(function(){""==$("#notification_0 #title").text()?($(".no_notification_overlay").show(),$(".notification_overlay").hide()):($(".no_notification_overlay").hide(),$(".notification_overlay").show(),$(".ch__notificationCount").hide(),NotificationClient&&NotificationClient.resetNewNotificationCount())}),$(".hdr-user-loggedin input").keyup(function(){$(".hdr_verifyMobText").text(""),$(this).val()>0?$(".otp_btn").removeClass("ch_dissable_state"):$(".otp_btn").addClass("ch_dissable_state")}),$(".hdr_otp_verify input").keyup(function(){$(".hdr_verifyOTPText").text("")}),$(".hdr_resend_otp").on("click",function(){MMT_HEADER.resendOTPNumber()}),$("#hdr_myBusiness").on("click",function(){var e=MMT_HEADER.getCookie("mmt-auth");e?$(".switch-profile-myBusiness").show():document.location.href="//mybiz.makemytrip.com/"}),e(),MMT_HEADER.loadLoggedInSections(),null!=$("#userLoginSection")&&$("#userLoginSection").children().length>0&&MMT_HEADER.loadFacebookSDK(),MMT_HEADER.setVisitorCookie()});var MMT_CUSTOM={selectorShow:function(e,i){e.show(function(){var e=s_gi("mmtprod");e.linkTrackVars="channel,eVar1,eVar15,eVar24,eVar34,eVar39,prop24,prop54",e.prop54=i,e.tl(this,"o",i)})},attachClickFocusEvents:function(){var e="Switch to myBiz account",i="In order to avail myBiz benefits, you will have to login again with your work email ID. We will redirect you to login page.",o="Are you sure? ",t="You will have to logout from your myBiz account and login into your personal account in order to switch.";clearInputValues=function(){$("#ch_login_email").val(""),$("#ch_login_password").val(""),$("#ch_forgetpwd_email").val(""),$("#ch_signup_email").val(""),$("#ch_signup_phone").val(""),$("#ch_signup_password").val(""),$("#userLoginSection input[type=checkbox]").attr("checked",!1)},$("#ch_signup_google").click(function(){$("#ch_login_google").click()}),$("#hdr_personal-account").click(function(){$("#hdr_corp-account").hasClass("active")&&($(".modal_header_text").text(o),$(".hdr_corpText").text(t),$(".ch__profileOverlay").hide(),$("#btn_popup_login").hide(),$("#btn_popup_logout").show(),$(".corp-popup-signup-section").hide(),$(".switch-profile-m1").show())}),$("#hdr_corp-account").click(function(){$("#hdr_personal-account").hasClass("active")&&($(".modal_header_text").text(e),$(".hdr_corpText").text(i),$(".ch__profileOverlay").hide(),$("#btn_popup_login").show(),$("#btn_popup_logout").hide(),$(".corp-popup-signup-section").show(),$(".switch-profile-m1").show())}),$(".switch-profile-ol .cancel-btn,.switch-profile-ol .o-i-cross-dark").click(function(){$(this).parents(".switch-profile-ol").hide()}),$(".switch-profile-myBusiness .cancel-btn,.switch-profile-myBusiness .o-i-cross-dark").click(function(){$(this).parents(".switch-profile-myBusiness").hide()}),$(".switch-profile-m1 .cancel-btn,.switch-profile-m1 .o-i-cross-dark").click(function(){$(this).parents(".switch-profile-m1").hide(),$(".ch__profileOverlay").show()}),$("input[type=text][id^=ch_], input[type=password][id^=ch_]").on("focusin",function(){id=this.id,$("#"+id+"_error").hide(),$("#ch_login_error").hide(),$("#ch_forgetpwd_error").hide(),$("#ch_signup_error").hide()}),$(".ch__signup").unbind("click").click(function(){$(".ch__signUpSection").is(":visible")?($("div[id^='ch'][id$='error']").hide(),$(".ch__signUpSection").slideUp(500),clearInputValues()):$(".ch__loginSection,.ch__forgetPwdSection").slideUp(500,function(){$("div[id^='ch'][id$='error']").hide(),$(".ch__signUpSection").slideDown(500),$(".ch_login-persuasion").hide()})}),$(".ch__login").unbind("click").click(function(){$(".ch__loginSection").is(":visible")?($("div[id^='ch'][id$='error']").hide(),$(".ch__loginSection").slideUp(500),clearInputValues()):$(".ch__signUpSection,.ch__forgetPwdSection").slideUp(500,function(){$("div[id^='ch'][id$='error']").hide(),$(".ch__loginSection").slideDown(500),$(".ch_login-persuasion").hide()})}),$(".forget_pwd").click(function(){$("#forgotpwd_sent_section").hide(),$("#forgotpwd_password_section").show(),$(".ch__loginSection,.ch__signUpSection").slideUp(500,function(){$("div[id^='ch'][id$='error']").hide(),$(".ch__forgetPwdSection").slideDown(500)})}),$(".ch__haveAccount, #ch_forgetpwd_login").click(function(){$(".ch__signUpSection, .ch__forgetPwdSection").slideUp(500,function(){$("div[id^='ch'][id$='error']").hide(),$(".ch__loginSection").slideDown(500)})}),$(".o-i-cross-dark.ch-accout-cross").on("click",function(){$(".ch__loginSection, .ch__signUpSection , .ch__forgetPwdSection, .ch__loginSection, .hdr-send-otp-con, .hdr-verfy-otp-con").slideUp(500),clearInputValues()}),$("body , html").on("click",function(e){$(e.target).closest(".ch__signUpSection").length||$(e.target).closest(".ch__signup").length||$(e.target).closest(".ch__loginSection").length||$(e.target).closest(".ch__login").length||$(e.target).closest(".ch__forgetPwdSection").length||$(".ch__signUpSection, .ch__loginSection, .ch__forgetPwdSection").is(":visible")&&($(".ch__signUpSection, .ch__loginSection, .ch__forgetPwdSection").slideUp(),$("div[id^='ch'][id$='error']").hide(),clearInputValues())}),$("#ch_signup_phone").focus(function(){var e=$("#ch_signup_phone").val();e||(e+="+91",$("#ch_signup_phone").val(e))}),$(".hdr_item_link, .hdr_mytrip_items, .hdr_hambrgr_items, .ch__walletMoney, .ch_wallet_link, .hdr_account_items, .cho_24X7, .cho_rewards\t,.ch__getapp,.cho_trips, .cho_login, .cho_signup, .cho_logindrawer_btn, .cho_signupdrawer_btn, .cho_facebook_btn, .cho_google_btn, .ch_persuasion_signup, .ch_persuasion_login").on("click",function(e){e.stopPropagation();var i=s_gi("mmtprod");i.linkTrackVars="channel,eVar1,eVar15,eVar24,eVar34,eVar39,prop24,prop54";var o=$(this).html();$(this).hasClass("hdr_item_link")?prop54Val="Header_"+o:$(this).hasClass("cho_logindrawer_btn")?prop54Val="Header_Login_Button":$(this).hasClass("hdr_mytrip_items")?prop54Val="Header_My_Trips_"+o:$(this).hasClass("hdr_hambrgr_items")?prop54Val="Header_Ham_Burger_"+o:$(this).hasClass("ch__walletMoney")?prop54Val="Header_Wallet":$(this).hasClass("hdr_account_items")?prop54Val="Header_Account_"+o:$(this).hasClass("cho_mmtBlack")?prop54Val="Header_MMT_BLACK":$(this).hasClass("cho_24X7")?prop54Val="Home_Page_Support":$(this).hasClass("ch__referearn")?prop54Val="dt_referral_clicksource_newMHP_banner2":$(this).hasClass("cho_trips")?prop54Val="Header_My_Trip":$(this).hasClass("cho_login")?prop54Val="Header_Login":$(this).hasClass("cho_signup")?prop54Val="Header_SignUp":$(this).hasClass("cho_facebook_btn")?prop54Val="Header_Facebook_Button":$(this).hasClass("cho_google_btn")?prop54Val="Header_Google_Button":$(this).hasClass("cho_signupdrawer_btn")?prop54Val="Header_SignUp_Button":$(this).hasClass("ch_wallet_link")?prop54Val="Header_Wallet_View":$(this).hasClass("ch_refer_earn")?prop54Val="Header_Wallet_Refer_And_Earn":$(this).hasClass("ch_persuasion_signup")?prop54Val="Header_Login_persuasion_SignUp":$(this).hasClass("ch_persuasion_login")?prop54Val="Header_Login_persuasion_LogIn":prop54Val=o,i.prop54=prop54Val,i.tl(this,"o",prop54Val)})},attachKeypressEvents:function(){$("#ch_login_password").keypress(function(e){13==e.keyCode&&$("#ch_login_btn").click()}),$("#ch_signup_password").keypress(function(e){13==e.keyCode&&$("#ch_signup_btn").click()}),$("#ch_forgetpwd_email").keypress(function(e){13==e.keyCode&&$("#ch_forgetpwd_submit").click()})},removeClickFocusEvents:function(){$("#ch_signup_google").off("click"),$("#hdr_personal-account").off("click"),$("#hdr_corp-account").off("click"),$(".switch-profile-ol .cancel-btn,.switch-profile-ol .o-i-cross-dark").off("click"),$(".switch-profile-myBusiness .cancel-btn,.switch-profile-myBusiness .o-i-cross-dark").off("click"),$(".switch-profile-m1 .cancel-btn,.switch-profile-m1 .o-i-cross-dark").off("click"),$("input[type=text][id^=ch_], input[type=password][id^=ch_]").off("focusin"),$(".ch__signup").off("click"),$(".ch__login").off("click"),$(".forget_pwd").off("click"),$(".ch__haveAccount, #ch_forgetpwd_login").off("click"),$(".o-i-cross-dark.ch-accout-cross").off("click"),$("body , html").off("click"),$("#ch_signup_phone").off("focus"),$(".hdr_item_link, .hdr_mytrip_items, .hdr_hambrgr_items, .ch__walletMoney, .ch_wallet_link, .hdr_account_items, .cho_24X7, .cho_rewards\t,.ch__getapp,.cho_trips, .cho_login, .cho_signup, .cho_logindrawer_btn, .cho_signupdrawer_btn, .cho_facebook_btn, .cho_google_btn, .ch_persuasion_signup, .ch_persuasion_login").off("click")},removeKeypressEvents:function(){$("#ch_login_password").off("keypress"),$("#ch_signup_password").off("keypress"),$("#ch_forgetpwd_email").off("keypress")},attachAllEvents:function(){MMT_CUSTOM.attachClickFocusEvents(),MMT_CUSTOM.attachKeypressEvents()},removeAllEvents:function(){MMT_CUSTOM.removeClickFocusEvents(),MMT_CUSTOM.removeKeypressEvents()}};$(document).ready(MMT_CUSTOM.attachClickFocusEvents()),MMT_CUSTOM.attachKeypressEvents();